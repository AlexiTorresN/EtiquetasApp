<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <connectionStrings>
    <!-- Conexión principal - Base de datos de Etiquetas -->
    <add name="EtiquetasDB"
         connectionString="Data Source=localhost;Initial Catalog=EtiquetasDB;Integrated Security=true;TrustServerCertificate=true;"
         providerName="System.Data.SqlClient" />

    <!-- Conexión secundaria - Base de datos de Producción (si aplica) -->
    <add name="ProduccionDB"
         connectionString="Data Source=localhost;Initial Catalog=ProduccionDB;Integrated Security=true;TrustServerCertificate=true;"
         providerName="System.Data.SqlClient" />
  </connectionStrings>

  <appSettings>
    <!-- Configuración General de la Aplicación -->
    <add key="AppName" value="Sistema de Etiquetas" />
    <add key="Version" value="1.0.0" />
    <add key="Environment" value="Development" />
    <add key="EnableLogging" value="true" />
    <add key="LogLevel" value="Info" />
    <add key="LogPath" value="Logs\" />

    <!-- Configuración de Directorios -->
    <add key="TemplatesPath" value="Templates\" />
    <add key="ZPLTemplatesPath" value="Templates\ZPL\" />
    <add key="ImagesPath" value="Resources\Images\" />
    <add key="BackupPath" value="Backups\" />
    <add key="ConfigurationsPath" value="Configurations\" />

    <!-- Configuración de Impresoras Zebra -->
    <add key="DefaultPrinter" value="ZEBRA01" />
    <add key="PrinterTimeout" value="30" />
    <add key="EnablePrinterAutoDetection" value="true" />
    <add key="ZebraPrinterPort" value="9100" />

    <!-- Configuración ZPL por Defecto -->
    <add key="DefaultPrintSpeed" value="4" />
    <add key="DefaultPrintDensity" value="15" />
    <add key="DefaultLabelWidth" value="609" />
    <add key="DefaultLabelHeight" value="203" />

    <!-- Configuración de Etiquetas -->
    <add key="TiposEtiquetasPermitidos" value="MOLDURAS,NACIONAL,BICOLOR,ALX,CBCO_E,UPC_VESTO,LAQ_HB_R" />
    <add key="MaxEtiquetasPorSolicitud" value="10000" />
    <add key="ValidarLimitesDiarios" value="true" />
    <add key="LimiteDiarioEtiquetas" value="50000" />

    <!-- Configuración de Seguridad -->
    <add key="RequireAuthentication" value="true" />
    <add key="ValidateByComputerName" value="true" />
    <add key="SessionTimeoutMinutes" value="60" />
    <add key="EnableAuditLog" value="true" />

    <!-- Configuración de Base de Datos -->
    <add key="DatabaseConnectionTimeout" value="30" />
    <add key="CommandTimeout" value="60" />
    <add key="EnableConnectionPooling" value="true" />
    <add key="MaxPoolSize" value="100" />

    <!-- Configuración de Reportes -->
    <add key="EnableReporting" value="true" />
    <add key="ReportsPath" value="Reports\" />
    <add key="ExportFormat" value="PDF,Excel" />

    <!-- Configuración de Backup -->
    <add key="EnableAutoBackup" value="false" />
    <add key="BackupIntervalHours" value="24" />
    <add key="BackupRetentionDays" value="30" />

    <!-- Configuración de Performance -->
    <add key="EnableCaching" value="true" />
    <add key="CacheExpirationMinutes" value="30" />
    <add key="MaxConcurrentConnections" value="10" />
  </appSettings>

  <system.diagnostics>
    <trace autoflush="true">
      <listeners>
        <clear/>
        <add name="TextFileTraceListener"
             type="System.Diagnostics.TextWriterTraceListener"
             initializeData="Logs\application.log" />
        <add name="ConsoleTraceListener"
             type="System.Diagnostics.ConsoleTraceListener" />
      </listeners>
    </trace>

    <sources>
      <source name="EtiquetasApp" switchName="sourceSwitch" switchType="System.Diagnostics.SourceSwitch">
        <listeners>
          <add name="FileLogger" type="System.Diagnostics.TextWriterTraceListener" initializeData="Logs\debug.log" />
        </listeners>
      </source>
    </sources>

    <switches>
      <add name="sourceSwitch" value="All" />
    </switches>
  </system.diagnostics>

  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="System.Data.SqlClient" publicKeyToken="b03f5f7f11d50a3a" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-4.8.5.0" newVersion="4.8.5.0" />
      </dependentAssembly>
      <dependentAssembly>
        <assemblyIdentity name="Newtonsoft.Json" publicKeyToken="30ad4fe6b2a6aeed" culture="neutral" />
        <bindingRedirect oldVersion="0.0.0.0-13.0.0.0" newVersion="13.0.0.0" />
      </dependentAssembly>
    </assemblyBinding>
  </runtime>

  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.8" />
  </startup>
</configuration>